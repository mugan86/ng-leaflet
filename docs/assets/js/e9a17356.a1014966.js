"use strict";(self.webpackChunkng_leaflet_documentation=self.webpackChunkng_leaflet_documentation||[]).push([[4174],{3905:function(e,a,n){n.d(a,{Zo:function(){return c},kt:function(){return d}});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=t.createContext({}),p=function(e){var a=t.useContext(i),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},c=function(e){var a=p(e.components);return t.createElement(i.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=r,f=m["".concat(i,".").concat(d)]||m[d]||u[d]||o;return n?t.createElement(f,l(l({ref:a},c),{},{components:n})):t.createElement(f,l({ref:a},c))}));function d(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=m;var s={};for(var i in a)hasOwnProperty.call(a,i)&&(s[i]=a[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var p=2;p<o;p++)l[p]=n[p];return t.createElement.apply(null,l)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8664:function(e,a,n){n.r(a),n.d(a,{contentTitle:function(){return i},default:function(){return m},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return c}});var t=n(7462),r=n(3366),o=(n(7294),n(3905)),l=["components"],s={title:"Capa por defecto",sidebar_position:2},i=void 0,p={unversionedId:"es/layers/default-layer",id:"es/layers/default-layer",isDocsHomePage:!1,title:"Capa por defecto",description:"En este apartado lo que se va a ense\xf1ar es a a\xf1adir una capa por defecto diferente a la que hemos usado hasta este momento, que era la que viene por defecto con Openstreetmap.",source:"@site/docs/es/layers/default-layer.md",sourceDirName:"es/layers",slug:"/es/layers/default-layer",permalink:"/ng-leaflet/es/layers/default-layer",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Capa por defecto",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Inicio",permalink:"/ng-leaflet/es/layers/intro"},next:{title:"Capas Base",permalink:"/ng-leaflet/es/layers/base-layers"}},c=[{value:"Consideraciones a tener en cuenta",id:"consideraciones-a-tener-en-cuenta",children:[]},{value:"Implementar funcionalidad",id:"implementar-funcionalidad",children:[]}],u={toc:c};function m(e){var a=e.components,n=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,t.Z)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"En este apartado lo que se va a ense\xf1ar es a a\xf1adir una capa por defecto diferente a la que hemos usado hasta este momento, que era la que viene por defecto con Openstreetmap."),(0,o.kt)("p",null,"La idea es poder personalizar este apartado con alguna de las capas que existen integradas en la librer\xeda y tambi\xe9n con opci\xf3n a a\xf1adir capas de servicios externos gratuitos y de pago."),(0,o.kt)("p",null,"La lista de capas que est\xe1n integradas en la librer\xeda las podemos encontrar en el ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mugan86/ng-leaflet/blob/develop/projects/mugan86/ng-leaflet/src/lib/config/tile-layers/ui.ts"},"siguiente enlace"),"."),(0,o.kt)("p",null,"Por el momento esta es la colecci\xf3n de capas que puede ir en aumento con el tiempo."),(0,o.kt)("h3",{id:"consideraciones-a-tener-en-cuenta"},"Consideraciones a tener en cuenta"),(0,o.kt)("p",null,"Ahora que ya sabemos donde tenemos que acceder para hacer uso de las capas vamos a ir a la definici\xf3n de la interfaz ",(0,o.kt)("strong",{parentName:"p"},"IConfigMap")," y nos fijamos en la opci\xf3n ",(0,o.kt)("strong",{parentName:"p"},"defaultLayer")," que es de tipo ",(0,o.kt)("strong",{parentName:"p"},"IBaseLayer"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"interface IConfigMap {\n    ...\n    defaultLayers?: IBaseLayer;\n    ...\n}\n\ninterface IBaseLayer {\n    label?: string;\n    map: string;\n    atribution: string;\n    default?: boolean;\n}\n")),(0,o.kt)("p",null,"Analizando las propiedades de la interface donde se asignar\xe1 la informaci\xf3n tenemos que tener en cuenta lo siguiente:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"label"),": Etiqueta que se le va a asignar para mostrar dentro del control de capas. Ahora ",(0,o.kt)("strong",{parentName:"li"},"no se va a implementar y lo dejamos en blanco"),". Lo veremos a partir del ",(0,o.kt)("a",{parentName:"li",href:"/ng-leaflet/es/layers/base-layers"},"siguiente punto"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"map"),": Referencia a la capa que vamos a usar, mediante el uso de una referencia de una capa que podr\xeda ser usando de las que est\xe1n integradas desde ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/mugan86/ng-leaflet/blob/develop/projects/mugan86/ng-leaflet/src/lib/config/tile-layers/ui.ts"},"este punto"),". Ah\xed deber\xedamos de ir a ",(0,o.kt)("strong",{parentName:"li"},"tileLayers.baseLayers")," seleccionamos el tipo de mapa y dentro de el siempre seleccionamos la propiedad ",(0,o.kt)("strong",{parentName:"li"},"map"),". Un ejemplo posible podr\xeda ser ",(0,o.kt)("strong",{parentName:"li"},"tileLayers.baseLayers.openTopoMap.map"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"atribution"),": En este caso este dato se usar\xe1 para a\xf1adirle la atribuci\xf3n correspondiente al mapa. Podemos hacer uso de la informaci\xf3n integrada como el punto anterior, pero en vez de seleccionar ",(0,o.kt)("strong",{parentName:"li"},"map")," debemos de seleccionar ",(0,o.kt)("strong",{parentName:"li"},"atribution"),". Un ejemplo bas\xe1ndonos en lo anterior podr\xeda ser: ",(0,o.kt)("strong",{parentName:"li"},"tileLayers.baseLayers.openTopoMap.atribution")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"default"),": Esta opci\xf3n servir\xe1 para especificar que si esta capa la queremos a\xf1adir por defecto dentro de la selecci\xf3n del control de capas, cosa que en este momento no se va a implementar, por lo que se ignora. Lo veremos a partir del ",(0,o.kt)("a",{parentName:"li",href:"/ng-leaflet/es/layers/base-layers"},"siguiente punto"),".")),(0,o.kt)("h3",{id:"implementar-funcionalidad"},"Implementar funcionalidad"),(0,o.kt)("p",null,"Ahora que ya tenemos claro la estructura y como debemos de formar la selecci\xf3n de una capa por defecto vamos a centrarnos en el apartado de IConfigMap a\xf1adiendo la capa de ",(0,o.kt)("strong",{parentName:"p"},"openTopoMap")," como se ha mostrado anteriormente."),(0,o.kt)("p",null,"Tendremos que a\xf1adirlo de la siguiente manera:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"configMap: IConfigMap = {\n    defaultLayer: {\n      map: tileLayers.baseLayers.openTopoMap.map,\n      atribution: tileLayers.baseLayers.openTopoMap.atribution\n    }\n};\n")),(0,o.kt)("p",null,"Teniendo en cuenta la configuraci\xf3n de todo el componente:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Component } from '@angular/core';\nimport { IConfigMap, tileLayers } from '@mugan86/ng-leaflet';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n  configMap: IConfigMap = {\n    defaultLayer: {\n      map: tileLayers.baseLayers.openTopoMap.map,\n      atribution: tileLayers.baseLayers.openTopoMap.atribution,\n    },\n  };\n}\n")),(0,o.kt)("p",null,"Nos mostrar\xe1 algo como lo pod\xe9is ver a continuaci\xf3n:\n",(0,o.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/mugan86/i18n-ng-leaflet-doc/master/.gitbook/assets/10-default-opentopomap.png",alt:"Map Default - OpenTopoMap"})),(0,o.kt)("p",null,"Y si seleccionamos otro mapa:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"configMap: IConfigMap = {\n    defaultLayer: {\n      map: tileLayers.baseLayers.osmHot.map,\n      atribution: tileLayers.baseLayers.osmHot.atribution,\n    },\n  };\n")),(0,o.kt)("p",null,"Se mostrar\xe1 de la siguiente manera:"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/mugan86/i18n-ng-leaflet-doc/master/.gitbook/assets/11-default-osmhot.png",alt:"Map Default - OSM Hot"})),(0,o.kt)("p",null,"Tal y como podremos ver en la siguiente demo."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://stackblitz.com/edit/angular-leaflet-default-layer?file=src/app/app.component.ts"},"Stackblitz - Default Layer")))}m.isMDXComponent=!0}}]);